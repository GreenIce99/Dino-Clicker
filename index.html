<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Dino Clicker ðŸ¦– - Online Leaderboard</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #a8edea, #fed6e3);
    text-align: center;
    padding: 30px;
    color: #2e7d32;
    user-select: none;
    max-width: 600px;
    margin: auto;
  }
  h1 {
    font-size: 48px;
    margin-bottom: 0;
  }
  #score, #highscore {
    font-size: 32px;
    margin: 10px 0;
  }
  .button {
    background-color: #4caf50;
    border: none;
    color: white;
    padding: 15px 25px;
    margin: 10px;
    font-size: 18px;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 5px #388e3c;
    transition: all 0.2s ease;
    user-select: none;
  }
  .button:active {
    box-shadow: 0 2px #388e3c;
    transform: translateY(3px);
  }
  #upgrades {
    margin-top: 30px;
    text-align: left;
  }
  .upgrade-item {
    margin-bottom: 15px;
  }
  #leaderboard {
    margin-top: 40px;
    text-align: left;
  }
  #leaderboard h2 {
    margin-bottom: 10px;
  }
  #leaderboard ol {
    padding-left: 20px;
  }
  #nameInput {
    font-size: 18px;
    padding: 8px;
    border-radius: 8px;
    border: 1px solid #ccc;
    margin-right: 10px;
  }
  #submitMessage {
    margin-top: 10px;
    font-weight: bold;
  }
</style>
</head>
<body>

<h1>Dino Clicker ðŸ¦–</h1>
<div id="score">Score: 0</div>
<div id="highscore">Personal Highscore: 0</div>

<button class="button" id="clickButton">Click Me!</button>

<div id="upgrades">
  <h2>Upgrades</h2>
  <div class="upgrade-item"><button class="button" id="upgradeClickPower">+1 Click Power (<span id="costClickPower">10</span> pts)</button></div>
  <div class="upgrade-item"><button class="button" id="buyAutoClicker">Auto-Clicker (<span id="costAutoClicker">50</span> pts)</button></div>
  <div class="upgrade-item"><button class="button" id="buyMultiplier">Click Multiplier x2 (<span id="costMultiplier">100</span> pts)</button></div>
  <div class="upgrade-item"><button class="button" id="buyBonusClick">Bonus +5 Click Power (<span id="costBonusClick">300</span> pts)</button></div>
  <div class="upgrade-item"><button class="button" id="buyMegaAutoClicker">Mega Auto-Clicker (x5 clicks/sec) (<span id="costMegaAutoClicker">1000</span> pts)</button></div>
  <div class="upgrade-item"><button class="button" id="buySuperMultiplier">Super Multiplier x5 (<span id="costSuperMultiplier">3000</span> pts)</button></div>
  <div class="upgrade-item"><button class="button" id="buyUltraClick">Ultra Click +50 (<span id="costUltraClick">10000</span> pts)</button></div>
  <div class="upgrade-item"><button class="button" id="buyAutoBonus">Auto Bonus +10 Click Power (<span id="costAutoBonus">25000</span> pts)</button></div>
</div>

<div id="leaderboard">
  <h2>Leaderboard - Top 5</h2>
  <ol id="leaderboardList"></ol>
  <input type="text" id="nameInput" placeholder="Enter your name" maxlength="12" />
  <button class="button" id="submitScore">Submit Score</button>
  <div id="submitMessage"></div>
</div>

<audio id="clickSound" src="https://www.soundjay.com/button/sounds/button-16.mp3" preload="auto"></audio>
<audio id="upgradeSound" src="https://www.soundjay.com/button/sounds/button-09.mp3" preload="auto"></audio>

<script>
  // --- Game state ---
  let score = 0;
  let clickPower = 1;
  let autoClickers = 0;
  let clickMultiplier = 1;

  // Costs:
  let costClickPower = 10;
  let costAutoClicker = 50;
  let costMultiplier = 100;
  let costBonusClick = 300;
  let costMegaAutoClicker = 1000;
  let costSuperMultiplier = 3000;
  let costUltraClick = 10000;
  let costAutoBonus = 25000;

  // DOM elements
  const scoreDisplay = document.getElementById('score');
  const highscoreDisplay = document.getElementById('highscore');
  const clickButton = document.getElementById('clickButton');
  const clickSound = document.getElementById('clickSound');
  const upgradeSound = document.getElementById('upgradeSound');
  const leaderboardList = document.getElementById('leaderboardList');
  const nameInput = document.getElementById('nameInput');
  const submitScoreBtn = document.getElementById('submitScore');
  const submitMessage = document.getElementById('submitMessage');

  // Personal highscore saved locally
  let personalHighscore = parseInt(localStorage.getItem('dinoHighscore')) || 0;

  // Update score display and highscore
  function updateScore() {
    scoreDisplay.textContent = 'Score: ' + Math.floor(score);
    if (score > personalHighscore) {
      personalHighscore = Math.floor(score);
      localStorage.setItem('dinoHighscore', personalHighscore);
      highscoreDisplay.textContent = 'Personal Highscore: ' + personalHighscore;
    }
  }

  // Sounds
  function playClickSound() {
    clickSound.currentTime = 0;
    clickSound.play();
  }
  function playUpgradeSound() {
    upgradeSound.currentTime = 0;
    upgradeSound.play();
  }

  // Clicking the dino
  function clickDino() {
    score += clickPower * clickMultiplier;
    updateScore();
    playClickSound();
  }

  // Buying upgrades
  function buyUpgrade(type) {
    switch(type) {
      case 'clickPower':
        if(score >= costClickPower) {
          score -= costClickPower;
          clickPower += 1;
          costClickPower = Math.floor(costClickPower * 1.5);
          document.getElementById('costClickPower').textContent = costClickPower;
          playUpgradeSound();
          updateScore();
        } else alert('Not enough points for Click Power!');
        break;
      case 'autoClicker':
        if(score >= costAutoClicker) {
          score -= costAutoClicker;
          autoClickers += 1;
          costAutoClicker = Math.floor(costAutoClicker * 2);
          document.getElementById('costAutoClicker').textContent = costAutoClicker;
          playUpgradeSound();
          updateScore();
        } else alert('Not enough points for Auto-Clicker!');
        break;
      case 'multiplier':
        if(score >= costMultiplier) {
          score -= costMultiplier;
          clickMultiplier *= 2;
          costMultiplier = Math.floor(costMultiplier * 3);
          document.getElementById('costMultiplier').textContent = costMultiplier;
          playUpgradeSound();
          updateScore();
        } else alert('Not enough points for Multiplier!');
        break;
      case 'bonusClick':
        if(score >= costBonusClick) {
          score -= costBonusClick;
          clickPower += 5;
          costBonusClick = Math.floor(costBonusClick * 2);
          document.getElementById('costBonusClick').textContent = costBonusClick;
          playUpgradeSound();
          updateScore();
        } else alert('Not enough points for Bonus Click!');
        break;
      case 'megaAutoClicker':
        if(score >= costMegaAutoClicker) {
          score -= costMegaAutoClicker;
          autoClickers += 5;
          costMegaAutoClicker = Math.floor(costMegaAutoClicker * 2.5);
          document.getElementById('costMegaAutoClicker').textContent = costMegaAutoClicker;
          playUpgradeSound();
          updateScore();
        } else alert('Not enough points for Mega Auto-Clicker!');
        break;
      case 'superMultiplier':
        if(score >= costSuperMultiplier) {
          score -= costSuperMultiplier;
          clickMultiplier *= 5;
          costSuperMultiplier = Math.floor(costSuperMultiplier * 3.5);
          document.getElementById('costSuperMultiplier').textContent = costSuperMultiplier;
          playUpgradeSound();
          updateScore();
        } else alert('Not enough points for Super Multiplier!');
        break;
      case 'ultraClick':
        if(score >= costUltraClick) {
          score -= costUltraClick;
          clickPower += 50;
          costUltraClick = Math.floor(costUltraClick * 4);
          document.getElementById('costUltraClick').textContent = costUltraClick;
          playUpgradeSound();
          updateScore();
        } else alert('Not enough points for Ultra Click!');
        break;
      case 'autoBonus':
        if(score >= costAutoBonus) {
          score -= costAutoBonus;
          autoClickers += 10;
          clickPower += 10;
          costAutoBonus = Math.floor(costAutoBonus * 4.5);
          document.getElementById('costAutoBonus').textContent = costAutoBonus;
          playUpgradeSound();
          updateScore();
        } else alert('Not enough points for Auto Bonus!');
        break;
    }
  }

  // Event listeners for upgrades
  document.getElementById('upgradeClickPower').addEventListener('click', () => buyUpgrade('clickPower'));
  document.getElementById('buyAutoClicker').addEventListener('click', () => buyUpgrade('autoClicker'));
  document.getElementById('buyMultiplier').addEventListener('click', () => buyUpgrade('multiplier'));
  document.getElementById('buyBonusClick').addEventListener('click', () => buyUpgrade('bonusClick'));
  document.getElementById('buyMegaAutoClicker').addEventListener('click', () => buyUpgrade('megaAutoClicker'));
  document.getElementById('buySuperMultiplier').addEventListener('click', () => buyUpgrade('superMultiplier'));
  document.getElementById('buyUltraClick').addEventListener('click', () => buyUpgrade('ultraClick'));
  document.getElementById('buyAutoBonus').addEventListener('click', () => buyUpgrade('autoBonus'));

  clickButton.addEventListener('click', clickDino);

  // Auto clickers add clicks every second
  setInterval(() => {
    if(autoClickers > 0) {
      score += autoClickers * clickPower * clickMultiplier;
      updateScore();
    }
  }, 1000);

  // --- Online leaderboard with JSONBin.io ---

  // Replace these with your JSONBin.io credentials
  const API_BIN_ID = "YOUR_BIN_ID_HERE";
  const API_BIN_SECRET = "YOUR_SECRET_KEY_HERE";
  const API_URL = `https://api.jsonbin.io/v3/b/${API_BIN_ID}/latest`;

  let leaderboard = [];

  function displayLeaderboard() {
    leaderboardList.innerHTML = '';
    leaderboard.slice(0,5).forEach(entry => {
      const li = document.createElement('li');
      li.textContent = `${entry.name} - ${entry.score}`;
      leaderboardList.appendChild(li);
    });
  }

  async function loadLeaderboard() {
    try {
      const res = await fetch(API_URL, {
        headers: { 'X-Master-Key': API_BIN_SECRET }
      });
      if (!res.ok) throw new Error('Failed to load leaderboard');
      const data = await res.json();
      leaderboard = data.record || [];
      leaderboard.sort((a,b) => b.score - a.score);
      displayLeaderboard();
    } catch (e) {
      console.error(e);
      leaderboardList.innerHTML = '<li>Failed to load leaderboard</li>';
    }
  }

  async function submitScore() {
    const name = nameInput.value.trim();
    if(!name) {
      alert('Please enter your name');
      return;
    }
    if(personalHighscore === 0) {
      alert('Score must be greater than 0');
      return;
    }
    submitMessage.style.color = 'black';
    submitMessage.textContent = 'Submitting...';

    try {
      // Fetch current scores
      const res = await fetch(API_URL, {
        headers: { 'X-Master-Key': API_BIN_SECRET }
      });
      if (!res.ok) throw new Error('Failed to load leaderboard');
      const data = await res.json();
      let scores = data.record || [];

      // Add new score and sort
      scores.push({ name, score: personalHighscore });
      scores = scores.sort((a,b) => b.score - a.score).slice(0, 10);

      // Update bin with new scores
      const updateRes = await fetch(`https://api.jsonbin.io/v3/b/${API_BIN_ID}`, {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
          'X-Master-Key': API_BIN_SECRET,
        },
        body: JSON.stringify(scores),
      });

      if (!updateRes.ok) throw new Error('Failed to submit score');

      leaderboard = scores;
      displayLeaderboard();
      submitMessage.style.color = 'green';
      submitMessage.textContent = 'Score submitted!';
      nameInput.value = '';
    } catch (e) {
      console.error(e);
      submitMessage.style.color = 'red';
      submitMessage.textContent = 'Failed to submit score.';
    }
  }

  submitScoreBtn.addEventListener('click', submitScore);

  // Initialize displays
  highscoreDisplay.textContent = 'Personal Highscore: ' + personalHighscore;
  updateScore();
  loadLeaderboard();

</script>

</body>
</html>
