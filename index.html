<!DOCTYPE html>
<html>
<head>
  <title>Dino Clicker ü¶ñ</title>
  <style>
    body {
      font-family: Comic Sans MS, sans-serif;
      text-align: center;
      background-color: #f7f0e3;
      margin: 0;
      padding: 0;
    }
    h1 {
      margin-top: 20px;
    }
    #dino {
      width: 150px;
      cursor: pointer;
    }
    #score {
      font-size: 2em;
      margin: 10px 0;
    }
    .shop {
      margin-top: 20px;
    }
    .shop button {
      display: block;
      margin: 8px auto;
      padding: 10px;
      font-size: 16px;
      border: none;
      background-color: #4caf50;
      color: white;
      border-radius: 10px;
      cursor: pointer;
    }
    .shop button:hover {
      background-color: #3e8e41;
    }
    #leaderboard {
      margin-top: 30px;
    }
    #leaderboard ul {
      list-style: none;
      padding: 0;
    }
  </style>
</head>
<body>

  <h1>ü¶ñ Dino Clicker!</h1>
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Tyrannosaurus_Rex_Holotype.jpg/320px-Tyrannosaurus_Rex_Holotype.jpg" id="dino" alt="Click the dino!" />
  <div id="score">Bones: 0</div>

  <div class="shop">
    <h2>üõí Dino Upgrades</h2>
    <button onclick="buyUpgrade('claws')">Sharper Claws (+1 per click) - Cost: 10</button>
    <button onclick="buyUpgrade('fangs')">Fiercer Roar (+3 per click) - Cost: 30</button>
    <button onclick="buyUpgrade('tail')">Tail Swipe (+10 per click) - Cost: 100</button>
    <button onclick="buyUpgrade('auto')">Dino Minions (+1/sec) - Cost: 50</button>
  </div>

  <div id="leaderboard">
    <h2>üèÜ Leaderboard (Local)</h2>
    <input id="playerName" placeholder="Enter Dino Name" />
    <button onclick="submitScore()">Save Highscore</button>
    <p id="saveMsg"></p>
    <ul id="leaderboardList"></ul>
  </div>

  <script>
    let bones = 0;
    let bonesPerClick = 1;
    let autoClick = 0;

    const scoreEl = document.getElementById("score");
    const dino = document.getElementById("dino");
    const leaderboardList = document.getElementById("leaderboardList");
    const saveMsg = document.getElementById("saveMsg");

    const upgrades = {
      claws: { cost: 10, bonus: 1 },
      fangs: { cost: 30, bonus: 3 },
      tail: { cost: 100, bonus: 10 },
      auto: { cost: 50, bonus: 1 }
    };

    dino.addEventListener("click", () => {
      bones += bonesPerClick;
      updateScore();
    });

    function updateScore() {
      scoreEl.textContent = `Bones: ${bones}`;
    }

    function buyUpgrade(type) {
      const up = upgrades[type];
      if (bones >= up.cost) {
        bones -= up.cost;
        if (type === "auto") {
          autoClick += up.bonus;
        } else {
          bonesPerClick += up.bonus;
        }
        up.cost = Math.floor(up.cost * 1.8);
        updateButtons();
        updateScore();
      }
    }

    function updateButtons() {
      document.querySelectorAll(".shop button").forEach(btn => {
        let label = btn.innerText;
        if (label.includes("Sharper Claws")) btn.innerText = `Sharper Claws (+1 per click) - Cost: ${upgrades.claws.cost}`;
        if (label.includes("Fiercer Roar")) btn.innerText = `Fiercer Roar (+3 per click) - Cost: ${upgrades.fangs.cost}`;
        if (label.includes("Tail Swipe")) btn.innerText = `Tail Swipe (+10 per click) - Cost: ${upgrades.tail.cost}`;
        if (label.includes("Dino Minions")) btn.innerText = `Dino Minions (+1/sec) - Cost: ${upgrades.auto.cost}`;
      });
    }

    function autoCollect() {
      bones += autoClick;
      updateScore();
    }

    setInterval(autoCollect, 1000);

    function submitScore() {
      const name = document.getElementById("playerName").value.trim();
      if (!name) {
        saveMsg.textContent = "Enter your dino name!";
        return;
      }

      const leaderboard = JSON.parse(localStorage.getItem("dinoLeaderboard") || "[]");
      const existing = leaderboard.find(e => e.name === name);

      if (existing) {
        if (bones > existing.score) existing.score = bones;
      } else {
        leaderboard.push({ name, score: bones });
      }

      leaderboard.sort((a, b) => b.score - a.score);
      localStorage.setItem("dinoLeaderboard", JSON.stringify(leaderboard.slice(0, 10)));
      saveMsg.textContent = "Score saved!";
      showLeaderboard();
    }

    function showLeaderboard() {
      const leaderboard = JSON.parse(localStorage.getItem("dinoLeaderboard") || "[]");
      leaderboardList.innerHTML = leaderboard.map(entry => `<li>${entry.name}: ${entry.score} ü¶¥</li>`).join("");
    }

    showLeaderboard();
    updateButtons();
  </script>

</body>
</html>
